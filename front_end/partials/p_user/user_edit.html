<md-dialog add-item-dialog>
    <md-dialog-content class="md-dialog-content">

        <h2 class="md-title">Edit user</h2>

        <p ng-if="userForm.$submitted && userForm.$invalid" class="md-warn" layout="row" layout-align="start center">
            <i class="material-icons">error_outline</i>
            <span>&nbsp; All fields are required.</span>
        </p>

        <form name="userForm" ng-submit="ctrl.submit()">
            <div layout="row" class="input-row">
                <md-input-container flex>
                    <label>Username*</label>
                    <input name="userName" ng-model="user.pid" type="text" ng-trim="false" md-maxlength="50"
                           minlength="5" ng-pattern="/^[a-zA-Z0-9]*$/" required>
                    <div ng-messages="userForm.userName.$error">
                        <div ng-message="required">This is required.</div>
                        <div ng-message="minlength">That's too short!</div>
                        <div ng-message="pattern">Allows only alphanumeric characters.</div>
                        <div ng-message="md-maxlength">Less than 50 characters long.</div>
                    </div>
                </md-input-container>
                <md-input-container flex>
                    <label>Password*</label>
                    <input name="password" ng-model="user.password" type="password" md-maxlength="50" minlength="5"
                           required>
                    <div ng-messages="userForm.password.$error">
                        <div ng-message="required">This is required.</div>
                        <div ng-message="minlength">That's too short!</div>
                        <div ng-message="md-maxlength">It has to be less than 50 characters long.</div>
                    </div>
                </md-input-container>
            </div>
            <div layout="row" class="input-row">
                <md-input-container flex>
                    <label>Name*</label>
                    <input name="displayName" ng-model="user.name" type="text" md-maxlength="300" minlength="2"
                           required>
                    <div ng-messages="userForm.displayName.$error">
                        <div ng-message="required">This is required.</div>
                        <div ng-message="minlength">That's too short!</div>
                        <div ng-message="md-maxlength">It has to be less than 300 characters long.</div>
                    </div>
                </md-input-container>
                <md-input-container flex>
                    <label>Type</label>
                    <md-select ng-model="typeSelected">
                        <md-option ng-repeat="type in getTypes()" ng-value="type">{{type}}</md-option>
                    </md-select>
                </md-input-container>
            </div>
            <h3 class="md-subhead">More details</h3>
            <div layout="row" class="input-row">
                <md-input-container flex>
                    <label>Phone</label>
                    <input name="name" ng-model="user.phone" type="tel" md-maxlength="50">
                </md-input-container>
                <md-input-container flex>
                    <label>Address</label>
                    <input name="name" ng-model="user.address" type="text" md-maxlength="800">
                </md-input-container>
            </div>
        </form>

    </md-dialog-content>

    <md-dialog-actions layout="row">
        <md-button class="md-primary" ng-click="ctrl.submit()" ng-disabled="userForm.$invalid">Update</md-button>
        <md-button class="md-primary" ng-click="ctrl.cancel()">Cancel</md-button>
    </md-dialog-actions>

</md-dialog>